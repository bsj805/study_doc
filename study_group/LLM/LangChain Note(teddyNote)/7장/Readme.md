# 7. 텍스트 분할

### 개요

- llm에게 문서 input이 너무 길기 때문에 쪼개야 해
- 핀포인트 정보 검색 - 문서를 세분화 해서 질문에 연관성 있는 정보만 가져오기


#### 문서 분할 과정

1. 문서 구조 파악
2. 단위 선정 (페이지 별?, 섹션별? 문단별?)
3. 단위 크기 선정 (문서를 몇 개의 토큰 단위로 나눌 것인가)
4. 청크 오버랩 (분할된 끝 부분에서 맥락이 이어지게, 일부를 겹쳐서 분할해야해)


# 7.5 코드 분할

```
RecursiveCharacterTextSplitter.get_separators_for_language(Language.JAVA)

['\nclass ',
 '\npublic ',
 '\nprotected ',
 '\nprivate ',
 '\nstatic ',
 '\nif ',
 '\nfor ',
 '\nwhile ',
 '\nswitch ',
 '\ncase ',
 '\n\n',
 '\n',
 ' ',
 '']
```

JAVA코드를 어떻게 쪼개나 봤더니

그냥 쪼개는거였다.  근데 무작정 if문이 나온다고 쪼개지는 않는다. 재귀적 분할을 사용해서, 나눠진 조각이 너무 크면 그 다음 우선순위 구분자로 나누는거야. 

마지막에 정 안되면 "" 즉, 그냥 고정 길이로 자르는 경우가 있다.


