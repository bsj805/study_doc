# 30. 데이터베이스는 세부사항

# 31. 웹은 세부사항

# 32. 프레임워크는 세부사항

- autowired는 엔티티가 아니라 main측 (우리의 경우는 serviceImpl 측) 이 들고있도록 해라 - 엔티티는 외부 원에의해 영향받으면 안된다.

# 34. 빠져 있는 장


# 1. Controller -> Service -> Repository로 되어 있는 형태에서 각각을 분리시킨 계층형 아키텍쳐의 문제점은 무엇일까?

힌트: 모든 코드가 다 똑같이 생겼다

<details>

- 업무 도메인에 대해서 아무것도 말해주지 않는다는 문제가 있다.
  - 컨트롤러만 있는 패키지는 어떤 기능에 대해 다루는지 모른다. -> 기능 기반 패키지는 같은 기능에 대해서 모두(컨트롤러, 서비스, 레포지토리) 하나의 패키지로 담았기 때문에 확인이 가능하다. 
  - 하지만 이런 수직기반 패키징도 문제가 있으니, 포트와 어댑터 를 도입한 육각형 아키텍쳐 같은게 나오게 된다. 세부 구현과 분리하기 위해서. 
    - 내부 영역은 도메인과 연관된 것을 모두 뭉쳐놓고, 외부는 specific한 로직들. 
</details>


# 2. Controller가 repository를 직접 접근하는 것을 막는 방법은 무엇일까? 

<details>

- 팀내의 원칙과 규율 
- 정적 분석 도구로 접근 못하게 한다
- 컴포넌트 기반 패키지를 도입한다. 
  - 레포지토리랑 업무 로직을 패키지로 묶으면 컨트롤러는 무조건 다른 패키지를 콜해야 하기 때문에 repository를 건너뛰어 호출하는 일을 줄이거나 없앤다.
  - 외부에서 특정 업무 로직을 고쳐야 할때 해당 도메인을 처리하는 컴포넌트만 둘러보면 된다. 
</details>

# 3. 

